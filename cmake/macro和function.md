cmake文件里包含了一些cmake命令和一些宏/函数，当CMakeLists.txt包含该.cmake文件时，当编译运行时，该.cmake里的一些命令就会在该包含处得到执行，并且在包含以后的地方能够调用该.cmake里的一些宏和函数。

## MACRO宏和function函数

### macro宏

```
macro(<name> [arg1 [arg2 [arg3 ...]]])
  COMMAND1(ARGS ...)            # 命令语句
  COMMAND2(ARGS ...)
  ...
endmacro()
```



### function函数

```
function(<name> [arg1 [arg2 [arg3 ...]]])
  COMMAND1(ARGS ...)            # 命令语句
  COMMAND2(ARGS ...)
  ...
function()
```



## 宏和函数的区别

那么宏和函数之间的区别是什么呢？

其实和C/C++里面宏和函数之间的区别差不多，宏就是字符串替换，函数就是使用变量，在命令中途可以对改变量进行修改。



- **无论是宏还是函数，当调用的时候如果使用的是`set`出来的变量，都必须通过`${}`将变量的内容传递进去，而不能只写上变量名**。
- **宏的参数由于不是传统意义上的变量，而是字符串替换，因此需要通过`${}`取出内容。而函数却不一定需要这样**。
- **在宏的定义过程中，对变量进行的操作必须通过`${}`取出内容，而函数就没有这个必要**。